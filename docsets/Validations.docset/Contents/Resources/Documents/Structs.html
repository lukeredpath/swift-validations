<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Structures  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Structures" class="dashAnchor"></a>

    <a title="Structures  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Validations Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Validations Reference</a>
      <img class="carat" src="img/carat.png" />
      Structures  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/OptionalValidating.html">OptionalValidating</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Validating.html">Validating</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ValidatorOf.html">ValidatorOf</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Structures</h1>
            <p>The following structures are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11Validations11ValidatorOfV"></a>
                    <a name="//apple_ref/swift/Struct/ValidatorOf" class="dashAnchor"></a>
                    <a class="token" href="#/s:11Validations11ValidatorOfV">ValidatorOf</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A type that acts as a generic wrapper around a validate function.</p>

<p>This type is the building block for all validations provided by the library.</p>

<p>When writing your own validators - either from scratch, or by composing existing ones - it is recommended that you encapsulate these by creating static variables (or functions, if your validator takes parameters) on extensions of <code>ValidatorOf</code>, constrainted to the type value type that the validator operates on.</p>

<p>You should also constrain your extension on the particular type of error that you return - in most cases this will simply be a <code>String</code>.</p>

<p>The following example shows you can define your own validator that operates on an <code>Int</code>:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ValidatorOf</span> <span class="k">where</span> <span class="kt">Value</span> <span class="o">==</span> <span class="kt">String</span><span class="p">,</span> <span class="kt">Error</span> <span class="o">==</span> <span class="kt">String</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">myIntValidator</span><span class="p">(</span><span class="nv">someParameter</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">Self</span> <span class="p">{</span> <span class="n">value</span> <span class="k">in</span>
            <span class="c1">// your validation logic</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Defining your validators in this way allows you to pass an instance into anything that takes a <code>ValidatorOf&lt;Int, String&gt;</code> (such as the <code><a href="Structs/Validating.html">@Validating</a></code> property wrapper) in concise form by taking advantage of Swift type-inference, e.g.:</p>
<pre class="highlight swift"><code><span class="kd">@Validating(.myIntValidator(someParameter: 1)</span><span class="p">)</span>
</code></pre>

                        <a href="Structs/ValidatorOf.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ValidatorOf</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11Validations10ValidatingV"></a>
                    <a name="//apple_ref/swift/Struct/Validating" class="dashAnchor"></a>
                    <a class="token" href="#/s:11Validations10ValidatingV">Validating</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A type that wraps a value of type <code>Value</code> and an associated validator and re-validates every time value is updated.</p>

<p>This type can be used to associate a value and its validation rules and have that value be re-validated every time it changes, check if it is valid and if not, what the validation errors are. It has dynamic member lookup support to provide direct access to the validated value.</p>

<p>Its primary use is as a property wrapper that lets you declaratively validate properties on your types. When used this way, you can access the validated version of your property using the $property syntax.</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">MyViewModel</span> <span class="p">{</span>
    <span class="kd">@Validating(.hasLengthOf(.atLeast(6)</span><span class="p">)</span>
    <span class="k">var</span> <span class="nv">password</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">""</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">MyViewModel</span><span class="p">()</span>
<span class="n">viewModel</span><span class="o">.</span><span class="err">$</span><span class="n">password</span><span class="o">.</span><span class="n">isValid</span> <span class="c1">// returns false</span>
<span class="n">viewModel</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s">"mypassword"</span>
<span class="n">viewModel</span><span class="o">.</span><span class="err">$</span><span class="n">password</span><span class="o">.</span><span class="n">isValid</span> <span class="c1">// returns true</span>
</code></pre>

                        <a href="Structs/Validating.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@dynamicMemberLookup</span>
<span class="kd">@propertyWrapper</span>
<span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Validating</span><span class="o">&lt;</span><span class="kt">Value</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11Validations18OptionalValidatingV"></a>
                    <a name="//apple_ref/swift/Struct/OptionalValidating" class="dashAnchor"></a>
                    <a class="token" href="#/s:11Validations18OptionalValidatingV">OptionalValidating</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A type that wraps an optional of type <code>Value</code> and an associated validator and re-validates every time the value is updated.</p>

<p>This type is the functional equivalent of <code><a href="Structs/Validating.html">Validating</a></code> but for optional values. This version should be used when you cannot provide a default value for a property on a type but still need to validate it, including if the value is required or not. Whilst it is preferable to use the Swift type system to declare whether or not a value is optional, it might not always be possible, e.g. if you need to capture some required value from user input but do not have any meaningful default that you can assign to the variable where it is declared.</p>

<p>Unless explicitly stated otherwise during initalisation, values are always treated as required, i.e. if the value is <code>nil</code> then validation will return an  <code>.invalid</code> result. It is possible to specify that a value is not required in which case validation will only be run if the value is non-nil and otherwise will be treated as <code>.valid</code>.</p>

                        <a href="Structs/OptionalValidating.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@dynamicMemberLookup</span>
<span class="kd">@propertyWrapper</span>
<span class="kd">public</span> <span class="kd">struct</span> <span class="kt">OptionalValidating</span><span class="o">&lt;</span><span class="kt">Value</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-07-02)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
